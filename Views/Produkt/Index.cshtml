@model Punim_Diplome.Models.ProductVM
@{
    ViewData["Title"] = "Products";
}

<style>
    .hero-section {
        background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
        color: white;
        padding: 4rem 2rem;
        margin-bottom: 3rem;
        border-radius: 0;
    }

    .hero-section h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: white;
    }

    .hero-section p {
        font-size: 1.1rem;
        opacity: 0.9;
        margin-bottom: 2rem;
    }

    .filter-section {
        background-color: white;
        padding: 2rem;
        border-radius: 10px;
        margin-bottom: 2rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .filter-group {
        margin-bottom: 1.5rem;
    }

    .filter-group label {
        font-weight: 600;
        margin-bottom: 0.75rem;
        color: #2c3e50;
        display: block;
    }

    .product-grid {
        margin-top: 2rem;
    }

    .product-card {
        transition: all 0.3s ease;
        height: 100%;
    }

    .product-card:hover {
        transform: translateY(-8px);
    }

    .products-count {
        color: #7f8c8d;
        font-size: 0.95rem;
        margin-bottom: 1rem;
    }
</style>

<!-- Hero Section -->
<section class="hero-section">
    <div class="container px-4 px-lg-5">
        <div class="text-center mb-4">
            <h1>Premium Laptops</h1>
            <p class="lead">Discover quality laptops from leading brands</p>
        </div>

        <!-- Search Bar -->
        <div class="row justify-content-center">
            <div class="col-lg-6">
                <form asp-controller="Produkt" asp-action="Index" method="get" class="d-flex gap-2">
                    <input type="text" name="searchString" value="@Model.SearchString"
                           class="form-control form-control-lg" 
                           placeholder="Search for laptops...">
                    <button class="btn btn-light btn-lg px-4" type="submit">
                        <i class="bi bi-search"></i> Search
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

<div class="container px-4 px-lg-5">
    <!-- Filters Section -->
    <div class="filter-section">
        <div class="row">
            <!-- Filter by Brand -->
            <div class="col-md-6 mb-3 mb-md-0">
                <div class="filter-group">
                    <label for="brandSelect"><i class="bi bi-tag"></i> Brand</label>
                    <form asp-action="Index" asp-controller="Produkt" method="get" class="d-flex">
                        <select class="form-select" id="brandSelect" name="brand" onchange="this.form.submit()">
                            <option value="">All Brands</option>
                            @foreach (var brand in Model.AvailableBrands)
                            {
                                <option value="@brand">@brand</option>
                            }
                        </select>
                    </form>
                </div>
            </div>

            <!-- Filter by Category -->
            <div class="col-md-6">
                <div class="filter-group">
                    <label for="categorySelect"><i class="bi bi-list"></i> Category</label>
                    <form asp-action="Index" asp-controller="Produkt" method="get">
                        <select class="form-select" id="categorySelect" name="selectedCategory" onchange="this.form.submit()">
                            <option value="">All Categories</option>
                            @foreach (var category in Model.AvailableCategories)
                            {
                                <option value="@category">@category</option>
                            }
                        </select>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Products Count -->
    <p class="products-count">
        Showing <strong>@Model.Products?.Count() ?? 0</strong> products
    </p>

    <!-- Products Grid -->
    <section class="py-5 product-grid">
        <div class="row gx-4 gx-lg-5 row-cols-1 row-cols-md-2 row-cols-lg-4 justify-content-center">
            @if (Model.Products?.Any() == true)
            {
                @foreach (var item in Model.Products)
                {
                    <div class="col mb-5">
                        <div class="card product-card h-100 border-0">
                            <div class="position-relative overflow-hidden bg-light">
                                <img class="card-img-top" src="~/Produktet/@item.ImageFileName" alt="@item.Name" />
                            </div>

                            <div class="card-body p-4">
                                <div class="text-center">
                                    <h5 class="fw-bold card-title mb-2">@item.Name</h5>
                                    <p class="text-muted small mb-2">@item.Brand</p>
                                </div>

                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <span class="h5 mb-0 text-primary fw-bold">@item.Price.ToString("C")</span>
                                    <small class="badge bg-light text-dark">RAM: @item.Ram</small>
                                </div>

                                <p class="small text-muted mb-3">@item.Category</p>
                            </div>

                            <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                                <div class="d-grid gap-2">
                                    <a class="btn btn-primary" role="button" 
                                       asp-action="Details" asp-controller="Produkt" asp-route-id="@item.Id">
                                        <i class="bi bi-eye"></i> View Details
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12">
                    <div class="alert alert-info text-center" role="alert">
                        <i class="bi bi-info-circle"></i> No products found. Try adjusting your filters.
                    </div>
                </div>
            }
        </div>
    </section>
</div>









